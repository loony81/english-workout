(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{63:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(7),i=r(12),l=r.n(i),c=r(2),u=r(3),s=r(5);function f(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){f(o,n,a,i,l,"next",e)}function l(e){f(o,n,a,i,l,"throw",e)}i(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t=e.topic,r=d(Object(n.useState)(""),2),i=r[0],f=r[1],p=d(Object(n.useState)(""),2),h=p[0],v=p[1],g=d(Object(n.useState)(!1),2),b=g[0],y=g[1],E=d(Object(n.useState)([]),2),w=E[0],x=E[1],k=Object(n.useContext)(c.a),S=k.isOnline,A=k.setIsOnline;Object(n.useEffect)((function(){i&&f(""),h&&v(""),w.length&&x([])}),[t]);var j=function(){var e=m(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/admin/"+t,{proverb:h},{headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("x-auth-token")}});case 3:r=e.sent,console.log(r.data),r.data.length?x(r.data):f("Your query returned no results"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?f(e.t0.response.data.message):(f(e.t0.message),"Network Error"===e.t0.message&&A(!1));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=m(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(h.length>2)){e.next=9;break}return i&&f(""),y(!0),v(""),e.next=7,j();case 7:e.sent,y(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("Find is rendered"),a.a.createElement(u.a,{currentPage:t},a.a.createElement("div",{className:"WorkingArea"},a.a.createElement("form",{id:"searchForm",onSubmit:O},a.a.createElement("div",{className:"WorkingArea-show"},a.a.createElement("p",{style:{fontSize:"1rem"}},i||a.a.createElement("ul",{style:{paddingLeft:"5px"}},w.map((function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("li",{style:{clear:"both",overflow:"hidden"}},e.proverb,a.a.createElement("span",{style:{float:"right",marginRight:"5px"}},a.a.createElement(o.b,{to:{pathname:"/edit"+t,state:{item:e}}},"Edit"))),a.a.createElement("hr",null))})))),a.a.createElement("div",null,a.a.createElement("textarea",{style:{visibility:"visible"},value:h,onChange:function(e){v(e.target.value)},placeholder:"Enter the full text of the proverb or part of it",maxLength:"300"}))),a.a.createElement("div",{className:"WorkingArea-navigation"},a.a.createElement(s.a,{form:"searchForm",title:"Find existing items for "+t,disabled:!(!b&&S)},"Find",a.a.createElement("br",null),a.a.createElement("i",{className:"fas fa-chevron-circle-left"})),a.a.createElement(s.a,{to:"/add"+t,title:"Add a new item to "+t,disabled:!(!b&&S)},"Add ",a.a.createElement("br",null),a.a.createElement("i",{className:"fas fa-cloud-download-alt"}))))))}}}]);